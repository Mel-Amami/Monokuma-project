<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Ä—Ç—ã</title>
    <!-- <link rel="stylesheet" href="assets/css/style.css"> -->
    <style>
        * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Russo One', sans-serif;
    background-color: #222;
    color: #fff;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
.container {
    max-width: 1200px;
    width: 90%;
    margin: 0 auto;
    text-align: center;
}

/* –®–∞–ø–∫–∞ –∏ –º–µ–Ω—é */
.navbar {
    width: 100%;
    background: linear-gradient(90deg, #6A00F4, #8E44AD);
    padding: 15px;
    position: fixed;
    top: 0;
    left: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 1000;
}

.menu {
    display: flex;
    align-items: center;
    gap: 20px;
}

.nav-links {
    list-style: none;
    display: flex;
    gap: 15px;
}

.nav-links li a {
    text-decoration: none;
    color: rgba(42, 23, 41, 0.682);
    font-weight: bold;
    font-size: 16px;
}

.nav-links li a.active {
    border-bottom: 3px solid #c03cb7;
    color: #c03cb7;
}

.search-box {
    display: flex;
    align-items: center;
    gap: 5px;
    position: absolute;
    right: 20px; /* –û—Ç–æ–¥–≤–∏–≥–∞–µ–º –≤ –ø—Ä–∞–≤—ã–π —É–≥–æ–ª */
}

.search-box input {
    padding: 7px;
    border: none;
    border-radius: 5px;
}

.search-box button {
    background: white;
    border: none;
    padding: 5px;
    cursor: pointer;
}
.arts {
    padding: 50px;
    text-align: center;
}

.gallery {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: flex-start;
}

.art {
    position: relative;
    width: 23%;
    min-width: 200px;
    box-sizing: border-box;
    margin-bottom: 15px;
}

.art img {
    width: 200px;
    height: auto;
    border-radius: 8px;
    cursor: pointer;
}

.art-actions {
    display: flex;
    gap: 5px;
    margin-top: 5px;
    justify-content: center;
}

.like-btn, .open-btn {
    padding: 8px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}

.like-btn {
    background: #4CAF50; /* –ó–µ–ª–µ–Ω—ã–π –ª–∞–π–∫ */
}

.upload-form {
    margin-top: 30px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 10px;
}

/* –û–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    justify-content: center;
    align-items: center;
}

.modal-content {
    width: auto;
    max-width: 90%;
    max-height: 90%;
}

.close-btn {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 30px;
    cursor: pointer;
    color: white;
}
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    justify-content: center;
    align-items: center;
}

.modal-content-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
}

.modal-content {
    width: auto;
    max-width: 90%;
    max-height: 80%;
    border-radius: 10px;
}

.close-btn {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 30px;
    cursor: pointer;
    color: white;
}

.close-modal {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    background: #ff4747;
    color: white;
}

.close-modal:hover {
    background: #ff2e2e;
}
.arts .container {
    margin-top: 30px;
}
@media (max-width: 900px) {
    .art { width: 48%; }
}
@media (max-width: 600px) {
    .art { width: 98%; }
}
    </style>
</head>
<body>

<header>
    <nav class="navbar">
        <div class="menu">
            <h2>–ú–µ–º—É–∞—Ä—ã –í–∞–Ω–∏—Ç–∞—Å–∞</h2>
            <ul class="nav-links">
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="characters.html">–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</a></li>
                <li><a href="theories.html">–¢–µ–æ—Ä–∏–∏</a></li>
                <li><a href="arts.html">–ê—Ä—Ç—ã</a></li>
                <li><a href="reviews.html">–û—Ç–∑—ã–≤—ã</a></li>
                <li><a href="facts.html">–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã</a></li>
                <li><a href="personal.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a></li>
            </ul>
        </div>
    </nav>
</header>

<main>
    <section class="arts">
        <div class="container">
            <h1></h1>
            <div class="gallery">
                <div class="art">
                    <img src="assets/img/photo_2022-08-07_07-29-59.jpg" alt="–ê—Ä—Ç 1" class="preview">
                    <div class="art-actions">
                        <button class="like-btn">üëç</button>
                        
                    </div>
                </div>

                <div class="art">
                    <img src="assets/img/photo_2022-06-03_01-18-22.jpg" alt="–ê—Ä—Ç 2" class="preview">
                    <div class="art-actions">
                        <button class="like-btn">üëç</button>
                        
                    </div>
                </div>
            </div>
            
            <form class="upload-form">
                <h2>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–≤–æ–π –∞—Ä—Ç</h2>
                <input type="file" id="upload-file" accept="image/*" required>
                <button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
            </form>
        </div>
    </section>
</main>

<footer>
    <p>&copy; 2025 VanitasNoCarte. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<!-- –û–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∞—Ä—Ç–∞ -->
<div class="modal" id="art-modal" style="display:none;">
    <span class="close-btn" id="close-art-modal" style="position:absolute;top:15px;right:20px;font-size:30px;cursor:pointer;color:white;z-index:10">&times;</span>
    <img class="modal-content" id="modal-art-img" style="max-width:90vw;max-height:90vh;display:block;margin:auto;margin-top:80px;margin-bottom:20px;">
</div>



<script src="assets/js/app.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    // --- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Å—ã–ª–∫–∏ ---
    const links = document.querySelectorAll('.nav-links li a');
    const current = window.location.pathname.split('/').pop();
    links.forEach(link => {
        if (link.getAttribute('href') === current) {
            link.classList.add('active');
        }
    });

    // --- –†–∞–±–æ—Ç–∞ —Å –≥–∞–ª–µ—Ä–µ–µ–π –∏ –ª–∞–π–∫–∞–º–∏ ---
    const gallery = document.querySelector('.gallery');
    const uploadForm = document.querySelector('.upload-form');
    const uploadInput = document.getElementById('upload-file');

    function getArts() {
        return JSON.parse(localStorage.getItem('arts') || '[]');
    }
    function saveArts(arr) {
        localStorage.setItem('arts', JSON.stringify(arr));
    }
    function getLikedArts() {
        return JSON.parse(localStorage.getItem('likedArts') || '[]');
    }
    function saveLikedArts(arr) {
        localStorage.setItem('likedArts', JSON.stringify(arr));
    }

    function renderArts() {
        const arr = getArts();
        gallery.innerHTML = '';
        arr.forEach((art, idx) => {
            const div = document.createElement('div');
            div.className = 'art';
            div.dataset.idx = idx;
            div.innerHTML = `
                <img src="${art.src}" alt="–ê—Ä—Ç" class="preview">
                <div class="art-actions">
                    <button class="like-btn">üëç</button>
                </div>
            `;
            gallery.appendChild(div);
        });
    }

    // --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: –¥–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –∞—Ä—Ç—ã, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç ---
    if (!localStorage.getItem('arts')) {
        const defaultArts = [
            { src: 'assets/img/photo_2022-08-07_07-29-59.jpg' },
            { src: 'assets/img/photo_2022-06-03_01-18-22.jpg' }
        ];
        saveArts(defaultArts);
    }
    renderArts();

    // --- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–≤–æ–µ–≥–æ –∞—Ä—Ç–∞ ---
    if (uploadForm && uploadInput) {
        uploadForm.addEventListener('submit', function(event) {
            event.preventDefault();
            if (uploadInput.files.length === 0) return;
            const file = uploadInput.files[0];
            const allowedTypes = ["image/png", "image/jpeg", "image/jpg", "image/gif"];
            if (!allowedTypes.includes(file.type)) {
                alert("–û—à–∏–±–∫–∞: –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è!");
                return;
            }
            const reader = new FileReader();
            reader.onload = function(e) {
                const arr = getArts();
                arr.push({ src: e.target.result });
                try {
                    saveArts(arr);
                    renderArts();
                } catch (err) {
                    if (err.name === 'QuotaExceededError' || err.name === 'NS_ERROR_DOM_QUOTA_REACHED') {
                        alert('–û—à–∏–±–∫–∞: –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –±—Ä–∞—É–∑–µ—Ä–∞! –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–∞—Ä—Ç–∏–Ω–∫—É –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ.');
                    } else {
                        alert('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ä—Ç–∞: ' + err.message);
                    }
                }
            };
            reader.readAsDataURL(file);
            uploadInput.value = "";
        });
    }

    // --- –õ–∞–π–∫ ---
    gallery.addEventListener('click', function(event) {
        if (event.target.classList.contains('like-btn')) {
            const artDiv = event.target.closest('.art');
            const img = artDiv.querySelector('img');
            const src = img ? img.src : null;
            if (!src) return;
            const liked = getLikedArts();
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –ª–∏ —É–∂–µ
            const exists = liked.some(a => a.src === src);
            if (!exists) {
                liked.push({ src });
                saveLikedArts(liked);
            }
            alert('–í—ã –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –ª–∞–π–∫!');
        }
    });

    // --- –û—Ç–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω ---
    const artModal = document.getElementById('art-modal');
    const modalArtImg = document.getElementById('modal-art-img');
    const closeArtModal = document.getElementById('close-art-modal');
    if (gallery && artModal && modalArtImg && closeArtModal) {
        gallery.addEventListener('click', function(event) {
            if (event.target.classList.contains('preview')) {
                modalArtImg.src = event.target.src;
                artModal.style.display = 'flex';
                artModal.style.justifyContent = 'center';
                artModal.style.alignItems = 'center';
                artModal.style.background = 'rgba(0,0,0,0.95)';
            }
        });
        closeArtModal.addEventListener('click', function() {
            artModal.style.display = 'none';
            modalArtImg.src = '';
        });
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏
        artModal.addEventListener('click', function(event) {
            if (event.target === artModal) {
                artModal.style.display = 'none';
                modalArtImg.src = '';
            }
        });
    }
});
</script>
</body>
</html>
