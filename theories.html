<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–æ—Ä–∏–∏</title>
    <!-- <link rel="stylesheet" href="assets/css/style.css"> -->
    <style>
        * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Russo One', sans-serif;
    background-color: #222;
    color: #fff;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
.container {
    max-width: 1200px;
    width: 90%;
    margin: 0 auto;
    text-align: center;
}

/* –®–∞–ø–∫–∞ –∏ –º–µ–Ω—é */
.navbar {
    width: 100%;
    background: linear-gradient(90deg, #6A00F4, #8E44AD);
    padding: 15px;
    position: fixed;
    top: 0;
    left: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 1000;
}

.menu {
    display: flex;
    align-items: center;
    gap: 20px;
}

.nav-links {
    list-style: none;
    display: flex;
    gap: 15px;
}

.nav-links li a {
    text-decoration: none;
    color: rgba(42, 23, 41, 0.682);
    font-weight: bold;
    font-size: 16px;
}

.nav-links li a.active {
    border-bottom: 3px solid #c03cb7;
    color: #c03cb7;
}

.search-box {
    display: flex;
    align-items: center;
    gap: 5px;
    position: absolute;
    right: 20px; /* –û—Ç–æ–¥–≤–∏–≥–∞–µ–º –≤ –ø—Ä–∞–≤—ã–π —É–≥–æ–ª */
}

.search-box input {
    padding: 7px;
    border: none;
    border-radius: 5px;
}

.search-box button {
    background: white;
    border: none;
    padding: 5px;
    cursor: pointer;
}
.theories {
    padding: 50px;
    text-align: center;
}

.theory-list {
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: center;
}

.theory {
    background: rgba(44, 43, 43, 0.8);
    padding: 20px;
    border-radius: 10px;
    color: white;
    max-width: 600px;
    text-align: left;
}

.theory img {
    width: 100%;
    max-height: 250px;
    object-fit: cover;
    border-radius: 8px;
}

.theory-form {
    margin-top: 30px;
    padding: 20px;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 10px;
    text-align: left;
}

.theory-form input,
.theory-form textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 5px;
    font-size: 1rem;
}

.theory-form button {
    background: #007BFF;
    color: white;
    padding: 10px;
    border-radius: 5px;
    cursor: pointer;
}
.theories .container {
    margin-top: 30px;
}
    </style>
</head>
<body>

<header>
    <nav class="navbar">
        <div class="menu">
            <h2>–ú–µ–º—É–∞—Ä—ã –í–∞–Ω–∏—Ç–∞—Å–∞</h2>
            <ul class="nav-links">
                <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="characters.html">–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</a></li>
                <li><a href="theories.html">–¢–µ–æ—Ä–∏–∏</a></li>
                <li><a href="arts.html">–ê—Ä—Ç—ã</a></li>
                <li><a href="reviews.html">–û—Ç–∑—ã–≤—ã</a></li>
                <li><a href="facts.html">–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã</a></li>
                <li><a href="personal.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a></li>
            </ul>
            <div class="search-box">
                <input type="text" placeholder="–ü–æ–∏—Å–∫...">
                <button type="submit">üîç</button>
            </div>
        </div>
    </nav>
</header>

<main>
    <section class="theories">
        <div class="container">
            <h1></h1>
            <div class="theory-list">
                <div class="theory">
                    <h3>–¢–µ–æ—Ä–∏—è ‚Ññ1</h3>
                    <img src="assets/img/photo_2022-08-07_07-29-59.jpg" alt="–¢–µ–æ—Ä–∏—è 1">
                    <p>–°—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–∂ N....</p>
                </div>

                <div class="theory">
                    <h3>–¢–µ–æ—Ä–∏—è ‚Ññ2</h3>
                    <img src="assets/img/photo_2022-08-07_07-29-59.jpg" alt="–¢–µ–æ—Ä–∏—è 2">
                    <p>–ö–∞–∫ —Å–∏–º–≤–æ–ª–∏–∫–∞ –∫–Ω–∏–≥–∏ –Ω–∞–º–µ–∫–∞–µ—Ç –Ω–∞ –∏—Å—Ç–∏–Ω–Ω—É—é –ø—Ä–∏—Ä–æ–¥—É –≥–ª–∞–≤–Ω–æ–≥–æ –≥–µ—Ä–æ—è...</p>
                </div>
            </div>

           <form class="theory-form">
                <h2>–û–ø—É–±–ª–∏–∫—É–π—Ç–µ —Å–≤–æ—é —Ç–µ–æ—Ä–∏—é</h2>
                <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–æ—Ä–∏–∏:</label>
                <input type="text" id="title" name="title" required>

                <label for="image">–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
                <input type="file" id="image" accept="image/*">

                <label for="content">–¢–µ–∫—Å—Ç —Ç–µ–æ—Ä–∏–∏:</label>
                <textarea id="content" name="content" rows="4" required></textarea>

                <button type="submit">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
            </form>

        </div>
    </section>
</main>

<footer>
    <p>&copy; 2025 VanitasNoCarte. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<script src="assets/js/app.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Å—ã–ª–∫–∏
        const links = document.querySelectorAll('.nav-links li a');
        const current = window.location.pathname.split('/').pop();
        links.forEach(link => {
            if (link.getAttribute('href') === current) {
                link.classList.add('active');
            }
        });

        // –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–æ—Ä–∏—è–º
        const searchInput = document.querySelector('.search-box input');
        if (searchInput) {
            searchInput.addEventListener('input', function() {
                const value = this.value.trim().toLowerCase();
                const theoryCards = document.querySelectorAll('.theory-list .theory');
                theoryCards.forEach(card => {
                    const title = card.querySelector('h3') ? card.querySelector('h3').textContent.toLowerCase() : '';
                    const text = card.querySelector('p') ? card.querySelector('p').textContent.toLowerCase() : '';
                    if (title.includes(value) || text.includes(value)) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        }

        // --- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–æ—Ä–∏–π ---
        const theoryList = document.querySelector('.theory-list');
        const theoryForm = document.querySelector('.theory-form');

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è HTML —Ç–µ–æ—Ä–∏–∏
        function createTheoryHTML(theory) {
            const div = document.createElement('div');
            div.className = 'theory';
            div.innerHTML = `<h3>${theory.title}</h3>`;
            if (theory.image) {
                div.innerHTML += `<img src="${theory.image}" alt="${theory.title}">`;
            }
            div.innerHTML += `<p>${theory.content}</p>`;
            return div;
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–æ—Ä–∏–π –∏–∑ localStorage
        function loadTheories() {
            const saved = localStorage.getItem('theories');
            if (!theoryList) return;
            if (saved) {
                const arr = JSON.parse(saved);
                // –£–¥–∞–ª—è–µ–º –≤—Å–µ, –∫—Ä–æ–º–µ —Ñ–æ—Ä–º—ã
                theoryList.innerHTML = '';
                arr.forEach(theory => {
                    theoryList.appendChild(createTheoryHTML(theory));
                });
            }
        }
        loadTheories();

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ç–µ–æ—Ä–∏–∏
        if (theoryForm && theoryList) {
            theoryForm.addEventListener('submit', function(event) {
                event.preventDefault();
                const title = document.getElementById('title').value.trim();
                const content = document.getElementById('content').value.trim();
                const imageInput = document.getElementById('image');
                if (!title || !content) {
                    alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                    return;
                }
                const saveTheory = (imgData) => {
                    const newTheory = { title, content, image: imgData };
                    let arr = JSON.parse(localStorage.getItem('theories')) || [];
                    arr.push(newTheory);
                    localStorage.setItem('theories', JSON.stringify(arr));
                    theoryList.appendChild(createTheoryHTML(newTheory));
                    theoryForm.reset();
                };
                if (imageInput.files && imageInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        saveTheory(e.target.result);
                    };
                    reader.readAsDataURL(imageInput.files[0]);
                } else {
                    saveTheory('');
                }
            });
        }
    });
</script>
</body>
</html>
